CIS
 
4410
 
&
 
5410:
 
Embedded
 
Software
 
for
 
Life-Critical
 
Applications
 
 
 
Smart
 
Pacemaker-Challenge
 
Project
 
 
 
Milestone
 
1:
 
Modeling
 
and
 
Verification
 
of
 
Pacemaker
 
 
Due:
 
11:
 
59
 
pm,
 
Friday,
 
14
 
November
 
2025
 
 
This
 
assignment
 
is
 
the
 
course
 
project
 
Milestone
 
1.
 
Make
 
sure
 
you
 
have
 
already
 
formed
 
groups
 
of
 
two
 
and
 
you
 
are
 
ready
 
to
 
work
 
together.
 
 
In
 
this
 
milestone,
 
you
 
will
 
use
 
the
 
Uppaal
 
modeling
 
tool
 
(available
 
from
 
www.uppaal.org)
 
to
 
create
 
the
 
formal
 
models
 
of
 
a
 
pacemaker
 
controller
 
and
 
a
 
heart.
 
 
(a)
  
VVI
 
mode.
 
The
 
VVI
 
mode
 
is
 
a
 
simple
 
function
 
of
 
the
 
pacemaker
 
controller.
 
(Refer
 
to
 
Section
 
3.5
 
of
 
the
 
pacemaker
 
specification
 
[1].)
 
A
 
straightforward
 
model
 
consists
 
of
 
two
 
timed
 
automata:
 
one
 
is
 
a
 
RandomHeart,
 
and
 
the
 
other
 
is
 
a
 
Ventricle
 
controller.
 
The
 
RandomHeart
 
mimics
 
any
 
heart
 
behaviors
 
(e.g.,
 
beating
 
just
 
randomly
 
in
 
a
 
given
 
range.).
  
A
 
RandomHeart
 
in
 
VVI
 
mode
 
receives
 
only
 
pacing
 
signals
 
to
 
the
 
ventricle
 
and
 
sends
 
signals
 
to
 
the
 
controller
 
when
 
an
 
(instantaneous)
 
heartbeat
 
occurs.
 
The
 
Ventricle
 
controller
 
monitors
 
the
 
heart
 
by
 
sensing
 
the
 
heart
 
signal
 
and
 
responds
 
by
 
sending
 
a
 
pacing
 
signal
 
to
 
the
 
heart
 
if
 
the
 
heart
 
fails
 
to
 
beat
 
by
 
itself
 
for
 
a
 
certain
 
time
 
duration.
 
(For
 
a
 
detailed
 
description
 
of
 
how
 
the
 
pacemaker
 
controller
 
works
 
under
 
VVI
 
mode,
 
refer
 
to
 
Table
 
6
 
of
 
the
 
specification
 
[1]
 
and
 
then
 
read
 
related
 
descriptions
 
of
 
each
 
checked
 
item
 
–
 
most
 
of
 
them
 
are
 
in
 
Section
 
5.)
 
Please
 
create
 
Uppaal
 
models
 
that
 
capture
 
the
 
behavior
 
of
 
the
 
random
 
heart
 
as
 
well
 
as
 
the
 
behavior
 
of
 
the
 
controller.
 
(For
 
the
 
project,
 
“Rate
 
Smoothing”
 
is
 
not
 
required.)
 
 
(b)
  
Simulate
 
your
 
models
 
and
 
make
 
sure
 
they
 
work
 
as
 
expected.
 
 
 
(c)
  
Specify
 
properties
 
that
 
are
 
necessary
 
to
 
establish
 
the
 
correctness
 
of
 
your
 
design.
 
Note
 
that
 
each
 
item
 
in
 
Table
 
6
 
should
 
either
 
be
 
a
 
constraint
 
applied
 
to
 
the
 
model
 
in
 
the
 
design
 
step
 
or
 
be
 
a
 
property
 
to
 
be
 
verified
 
in
 
the
 
verification
 
step.
 
For
 
each
 
of
 
them,
 
please
 
explain/justify
 
briefly
 
why
 
the
 
logical
 
formula
 
corresponds
 
to
 
the
 
property
 
listed
 
in
 
the
 
specification.
 
(Hint:
 
To
 
observe
 
how
 
the
 
RandomHeart
 
and
 
the
 
Ventricle
 
controller
 
interact
 
and
 
to
 
check
 
if
 
some
 
properties
 
are
 
satisfied,
 
it
 
is
 
convenient
 
to
 
create
 
another
 
automaton
 
which
 
captures
 
signals
 
to/from
 
the
 
RandomHeart/Ventricle
 
controller.
 
The
 
observer
 
can
 
be
 
designed
 
on
 
an
 
extend-by-need
 
basis.)
 
 
 
 
(d)
 
Verify
 
the
 
properties
 
identified
 
in
 
Step
 
(c).
 
Ideally,
 
they
 
should
 
all
 
be
 
true
 
unless
 
you
 
intentionally
 
create
 
a
 
property
 
that
 
must
 
not
 
be
 
satisfied.
 
 
To
 
submit
 
your
 
work,
 
please
 
write
 
a
 
short
 
description
 
of
 
your
 
design,
 
compress
 
it
 
with
 
the
 
Uppaal
 
models
 
and
 
query
 
files
 
you
 
created,
 
and
 
submit
 
it
 
via
 
Canvas.
 
 
 
References
 
 
[1]
 
Boston
 
Scientific.
 
"Pacemaker
 
System
 
Specification."
 
Boston
 
Scientific
 
(2007).
 
https://sqrl.cas.mcmaster.ca/_SQRLDocuments/PACEMAKER.pdf
 
 
 
Appendix
 
 
 
 
Parameter
 
A
 
A
 
T
 
V
 
V
 
T
 
A
 
O
 
O
 
A
 
A
 
I
 
V
 
O
 
O
 
V
 
V
 
I
 
V
 
D
 
D
 
D
 
O
 
O
 
D
 
D
 
I
 
D
 
D
 
D
 
A
 
O
 
O
 
R
 
A
 
A
 
I
 
R
 
V
 
O
 
O
 
R
 
V
 
V
 
I
 
R
 
V
 
D
 
D
 
R
 
D
 
O
O
R
 
D
 
D
 
I
 
R
 
D
 
D
 
D
 
R
 
Lower
 
Rate
 
Limit
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
Upper
 
Rate
 
Limit
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
Maximum
 
Sensor
 
Rate
 
 
 
 
 
 
 
 
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
Fixed
 
AV
 
Delay
 
 
 
 
 
 
 
X
 
X
 
X
 
X
 
 
 
 
 
X
 
X
 
X
 
X
 
Dynamic
 
AV
 
Delay
 
 
 
 
 
 
 
X
 
 
 
X
 
 
 
 
 
X
 
 
 
X
 
Sensed
 
AV
 
Delay
 
Offset
 
 
 
 
 
 
 
 
 
 
X
 
 
 
 
 
 
 
 
X
 
Atrial
 
Amplitude
 
X
 
 
X
 
X
 
 
 
 
X
 
X
 
X
 
X
 
X
 
 
 
 
X
 
X
 
X
 
Ventricular
 
Amplitude
 
 
X
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
Atrial
 
Pulse
 
Width
 
X
 
 
X
 
X
 
 
 
 
X
 
X
 
X
 
X
 
X
 
 
 
 
X
 
X
 
X
 
Ventricular
 
Pulse
 
Width
 
 
X
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
Atrial
 
Sensitivity
 
X
 
 
 
X
 
 
 
 
 
X
 
X
 
 
X
 
 
 
 
 
X
 
X
 
Ventricular
 
Sensitivity
 
 
X
 
 
 
 
X
 
X
 
 
X
 
X
 
 
 
 
X
 
X
 
 
X
 
X
 
VRP
 
 
X
 
 
 
 
X
 
X
 
 
X
 
X
 
 
 
 
X
 
X
 
 
X
 
X
 
ARP
 
X
 
 
 
X
 
 
 
 
 
X
 
X
 
 
X
 
 
 
 
 
X
 
X
 
PVARP
 
X
 
 
 
X
 
 
 
 
 
X
 
X
 
 
X
 
 
 
 
 
X
 
X
 
PVARP
 
Extension
 
 
 
 
 
 
 
X
 
 
 
X
 
 
 
 
 
X
 
 
 
X
 
Hysteresis
 
 
 
 
X
 
 
X
 
 
 
 
X
 
 
X
 
 
X
 
 
 
 
X
 
Rate
 
Smoothing
 
 
 
 
X
 
 
X
 
X
 
 
 
X
 
 
X
 
 
X
 
X
 
 
 
X
 
ATR
 
Duration
 
 
 
 
 
 
 
X
 
 
 
X
 
 
 
 
 
X
 
 
 
X
 
ATR
 
Fallback
 
Mode
 
 
 
 
 
 
 
X
 
 
 
X
 
 
 
 
 
X
 
 
 
X
 
ATR
 
Fallback
 
Time
 
 
 
 
 
 
 
X
 
 
 
X
 
 
 
 
 
X
 
 
 
X
 
Activity
 
Threshold
 
 
 
 
 
 
 
 
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
Reaction
 
Time
 
 
 
 
 
 
 
 
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
Response
 
Factor
 
 
 
 
 
 
 
 
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
Recovery
 
Time
 
 
 
 
 
 
 
 
 
 
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
X
 
The
 
Lower
 
Rate
 
Limit
 
(LRL)
 
decides
 
the
 
longest
 
time
 
duration
 
between
 
a
 
V
 
event
 
and
 
the
 
next
 
ventricular
 
pace.
 
This
 
can
 
decide
 
the
 
lower
 
bound
 
of
 
the
 
heart
 
rate.
 
 
The
 
Upper
 
Rate
 
Limit
 
(URL)
 
decides
 
the
 
shortest
 
time
 
duration
 
between
 
a
 
V
 
event
 
and
 
the
 
next
 
ventricular
 
pace.
 
This
 
can
 
decide
 
the
 
upper
 
bound
 
of
 
the
 
heart
 
rate.
 
 
The
 
Ventricular
 
Refractory
 
Period
 
(VRP)
 
shall
 
be
 
a
 
programmed
 
time
 
value
 
following
 
a
 
ventricular
 
event
 
during
 
which
 
time
 
ventricular
 
senses
 
shall
 
not
 
inhibit
 
nor
 
trigger
 
pacing.
 
 
 
Parameter
 
Upper
 
Bound
 
Lower
 
Bound
 
Rate
 
Limit
 
40
 
bpm
 
(LRL)
 
180
 
bpm
 
(URL)
 
VRP
 
150
 
ms
 
 
 
Submission.
 
To
 
submit
 
your
 
work,
 
write
 
a
 
simple
 
document
 
describing
 
the
 
UPPAAL
 
models
 
and
 
properties.
 
Zip
 
this
 
document
 
and
 
your
 
UPPAAL
 
models
 
and
 
submit
 
to
 
Canvas.
 
 
 
Last
 
updated
 
on
 
11/07/2025.
 